(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{TzCa:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("ERkP"),r=a("zb92"),i=Object(r.a)({loader:function(){return a.e(177).then(a.bind(null,"tpds"))},renderPlaceholder:function(){return null}});function o(e){return n.createElement(i,{player:e})}},W5XZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,r=a("k49u"),i=a("fs1G"),o=((n={})[r.a.OtherUserSuspended]={customAction:i.a},n[r.a.StatusViewForbidden]={customAction:i.a},n)},"aX4+":function(e,t,a){"use strict";a.r(t);var n,r=a("pVnL"),i=a.n(r),o=a("8OQS"),s=a.n(o),l=(a("PN9k"),a("yIC7"),a("PJYZ")),d=a.n(l),c=a("VbXa"),_=a.n(c),u=a("lSNA"),p=a.n(u),m=a("ERkP"),I=(a("KYm4"),a("KI7T"),a("97Jx")),g=a.n(I),T=a("1Pcy"),E=a.n(T),v=a("W/Kd"),y=a.n(v),A=a("KEM+"),b=a.n(A),h=a("TIdA"),f=a("A91F"),O={composeDirectMessage:function(e){e.recipient,e.welcomeMessageId,e.messageText},composeTweet:function(e,t,a){},getCtaString:function(e){switch(e){case"play":return"Play";case"shop":return"Shop";case"book":return"Book";case"connect":return"Connect";case"order":return"Order";case"open":return"Open";case"install":default:return"Install"}},getFetchIntervalSeconds:function(){return 30},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return"Message us";case"message_me_card_cta_3":return"Send us a private message";case"message_me_card_cta_4":return"Send me a private message";case"message_me_card_cta_2":default:return"Send a private message"}},getMobileOS:function(){return"android"},getBroadcastLink:function(e){return"https://twitter.com/i/broadcasts/"+e},getEventLink:function(e){return"https://twitter.com/i/events/"+e},getMomentLink:function(e){return"https://twitter.com/i/moments/"+e},renderImage:function(e,t,a,n,r){var i=e.uri,o=e.width,s=e.height;return m.createElement(h.a,{accessibilityLabel:"",aspectMode:f.a.exact(t||1),cropCandidates:r,image:{url:i,width:o||1e3,height:s||1e3}})},renderTwemojiText:function(e){return e},renderNumVotesLabel:function(e){return e.toLocaleString()+" vote"+(1===e?"":"s")},renderFinalResultsLabel:function(){return"Final results"},renderRatingsLabel:function(e){return e.appStarRating+"/5.0 stars â€“ "+e.appNumRatings+" ratings"},renderStartingTimeLabel:function(e){return"Starting "+new Date(parseInt(e,10)).toLocaleString("default",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})},renderTimeLeftLabel:function(e){return"Ends at "+new Date(e).toLocaleString()},renderTweetActionLabel:function(e){return"Tweet "+e},renderVoteLabel:function(){return"Vote"},shouldLimitTextToSingleLine:function(){return!1},storeCardState:function(e,t){}},S={init:function(e){for(var t in e)O[t]=e[t]},setRenderImage:function(e){O.renderImage=e},setRenderTwemojiText:function(e){O.renderTwemojiText=e},setRenderNumVotesLabel:function(e){O.renderNumVotesLabel=e},setRenderFinalResultsLabel:function(e){O.renderFinalResultsLabel=e},setRenderTimeLeftLabel:function(e){O.renderTimeLeftLabel=e},setRenderTweetActionLabel:function(e){O.renderTweetActionLabel=e},setRenderRatingsLabel:function(e){O.renderRatingsLabel=e},setRenderVoteLabel:function(e){O.renderVoteLabel=e}},D=function(e){function t(){return e.apply(this,arguments)||this}y()(t,e);var a=t.prototype;return a.render=function(){return null},a.componentDidMount=function(){this._startTimer()},a.componentWillUnmount=function(){this._stopTimer()},a._startTimer=function(){var e=this.props.requestCardUpdate,t=O.getFetchIntervalSeconds();this._timer=setInterval(e,1e3*t)},a._stopTimer=function(){clearInterval(this._timer)},t}(m.Component),N=(a("cI1W"),a("9Xij")),C=(a("0rpg"),a("/yvb")),M={AMPLIFY:"amplify",APP:"app",APPPLAYER:"appplayer",AUDIO:"audio",BROADCAST:"745291183405076480:broadcast",DIRECT_STORE_LINK_APP:"direct_store_link_app",IMAGE_DIRECT_MESSAGE:"2586390716:image_direct_message",LIVE_EVENT:"745291183405076480:live_event",MESSAGE_ME:"2586390716:message_me",MOMENT:"3260518932:moment",PERISCOPE_BROADCAST:"3691233323:periscope_broadcast",PLAYER:"player",POLL_2_CHOICE_TEXT:"poll2choice_text_only",POLL_3_CHOICE_TEXT:"poll3choice_text_only",POLL_4_CHOICE_TEXT:"poll4choice_text_only",POLL_2_CHOICE_IMAGE:"poll2choice_image",POLL_3_CHOICE_IMAGE:"poll3choice_image",POLL_4_CHOICE_IMAGE:"poll4choice_image",POLL_2_CHOICE_VIDEO:"poll2choice_video",POLL_3_CHOICE_VIDEO:"poll3choice_video",POLL_4_CHOICE_VIDEO:"poll4choice_video",PROMO_IMAGE_APP:"promo_image_app",PROMO_IMAGE_CONVO:"promo_image_convo",PROMO_VIDEO_CONVO:"promo_video_convo",PROMO_VIDEO_WEBSITE:"2586390716:promo_video_website",PROMO_WEBSITE:"promo_website",SUMMARY:"summary",SUMMARY_LARGE_IMAGE:"summary_large_image",UNIFIED_CARD:"unified_card",VIDEO_DIRECT_MESSAGE:"2586390716:video_direct_message"},w={BUTTON_GROUP:"button_group",BUTTON_GROUP_STATIC:"button_group_static",DESTINATION:"destination_default",DESTINATION_SECONDARY:"destination_secondary",DESTINATION_STATIC:"destination_static",DETAILS:"details_default",DETAILS_SECONDARY:"details_secondary",DETAILS_STATIC:"details_static",MEDIA:"media_default",MEDIA_SECONDARY:"media_secondary",MEDIA_STATIC:"media_static",IMAGE_ENTITY:"image_entity_default",IMAGE_ENTITY_SECONDARY:"image_entity_secondary",IMAGE_ENTITY_STATIC:"image_entity_static",VIDEO_ENTITY:"video_entity_default",VIDEO_ENTITY_SECONDARY:"video_entity_secondary",IFRAME_ENTITY:"iframe_entity",POLL:"poll",POLL_STATIC:"poll_static"},L="default",R="secondary",x="static",P="data_saver",k="badge",Y="moments",B="play",G={ACTION:"action",BROADCAST:"broadcast",BROWSER:"browser",BROWSER_WITH_DOCKED_MEDIA:"browser_with_docked_media",BROWSER_WITH_MEDIA:"browser_with_media",EVENT:"event",MOMENT:"moment"},j="media",U="details",V="button_group",W="swipeable_media",z=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,b()(E()(t),"_scribeAndLogAction",(function(e,a,n){var r=t.props.scribeCardAction,i=n&&void 0!==n.index?n.index:void 0,o=e.type===G.ACTION&&e.data.auth_required;r&&r({action:e.data.scribe,componentType:a,ctaIndex:i,isAuthRequired:o}),t._logPromotedCardAction({action:e.data.promoted_log,componentType:a,ctaIndex:i,isAuthRequired:o})})),b()(E()(t),"_voteForChoice",(function(e){var a=t.props,n=a.card,r=a.onPollVote;r&&n&&r({cardId:n.id,choice:e})})),b()(E()(t),"_updateCardStateAndPersistIfNeeded",(function(e,a,n){var r=t.props.updateCardState;n&&(r&&r(n),a&&O.storeCardState(e,n))})),b()(E()(t),"_logPromotedCardAction",(function(e){var a=e.action,n=e.componentType,r=e.ctaIndex,i=e.isAuthRequired,o=t.props,s=o.card,l=o.onPromotedLogEvent;s&&l&&l(Object.assign({action:a,componentType:n},"number"==typeof r?{buttonIndex:r}:null,{isAuthRequired:i}))})),t}return y()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.card,n=t.children,r=t.destinationKey,i=t.buttonData,o=t.componentType;if(!a||!r)return n({});var s=a.destinations[r];if(!s)return n({});switch(s.type){case G.BROWSER:case G.BROWSER_WITH_DOCKED_MEDIA:case G.BROWSER_WITH_MEDIA:return n({link:s.data.url_data.url,onClick:function(){return e._scribeAndLogAction(s,o,i)}});case G.MOMENT:return n({link:O.getMomentLink(s.data.moment_data.moment),onClick:function(){return e._scribeAndLogAction(s,o,i)}});case G.EVENT:return n({link:O.getEventLink(s.data.event_data.id),onClick:function(){return e._scribeAndLogAction(s,o,i)}});case G.BROADCAST:return n({link:O.getBroadcastLink(s.data.broadcast_data.id),onClick:function(){return e._scribeAndLogAction(s,o,i)}});case G.ACTION:var l=s.data.action_data,d=l.next_state,c=l.persist;return n({onClick:function(t){switch(e._scribeAndLogAction(s,o,i),l.type){case"compose":i&&O.composeTweet(a.id,i.tweet||void 0,d);break;case"dm":l.recipient&&O.composeDirectMessage(Object.assign({recipient:l.recipient},i&&i.wm_id?{welcomeMessageId:i.wm_id}:null,{},i&&i.composer_text?{messageText:i.composer_text}:null));break;case"vote":i&&e._voteForChoice(i.index);break;default:e._updateCardStateAndPersistIfNeeded(a.id,c,d),t.stopPropagation()}}});default:return n({})}},t}(m.Component),F=(n=z,function(e){return m.createElement(ga.Context.Consumer,null,(function(t){return m.createElement(n,g()({},e,t))}))}),H=a("Uwiv"),q=a.n(H),K=a("SvUW"),J=a.n(K),X=a("rHpw"),Z=a("3xO4"),Q=a.n(Z),$=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,b()(E()(t),"_renderButton",(function(e,a){var n=t.props.buttonSize,r=t._getButtonIcon(e.icon)||void 0,i=a>0;return m.createElement(F,{buttonData:e,componentType:"button_group",destinationKey:e.destination,key:e.cta},(function(t){var a=t.link,o=t.onClick;return m.createElement(C.a,{icon:r,key:e.cta,link:a,onClick:o,size:n,style:[ee.button,i&&ee.buttonTopMargin],type:"secondary"},e.cta)}))})),t}y()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.chromeless,a=e.buttons;return m.createElement(Q.a,{style:!t&&ee.wrapperPadding},a.map(this._renderButton))},a._getButtonIcon=function(e){switch(e){case"dm":return m.createElement(J.a,null);case"link":return m.createElement(q.a,null);default:return null}},t}(m.Component);b()($,"displayName","@twitter/CardButtons");var ee=X.a.create((function(e){return{wrapperPadding:{padding:e.spaces.xSmall},button:{flexGrow:1},buttonTopMargin:{marginTop:e.spaces.xSmall}}})),te=$,ae=a("n4Eu"),ne=function(e){var t=e.ext_media_color&&e.ext_media_color.palette,a=t&&ae.a.get(t);return a?"rgb("+a.rgb.red+", "+a.rgb.green+", "+a.rgb.blue+")":void 0},re=a("1E7s"),ie=a.n(re),oe=a("kc0B"),se=a.n(oe),le=a("U403"),de=a.n(le),ce=a("n38W"),_e=a("8t7K"),ue=(a("aWzz"),function(e){function t(){return e.apply(this,arguments)||this}y()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.destination,a=e.locationKey,n=e.mediaEntity,r=e.ratio,i=e.renderPlaceholder,o=e.style,s=n||{},l=s.media_url_https,d=s.original_info,c=(d=void 0===d?{}:d).width,_=d.height,u=s.cropCandidates,p=n&&ne(n),I=m.createElement(m.Fragment,null,m.createElement(ga.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,n=e.isPromoted,i=t?n?"suboptimal":"preview":void 0;return O.renderImage({uri:l,width:c,height:_},r,i,a,u)})),this._renderOverlay()),g=m.createElement(N.a,{ratio:r||1},m.createElement(Q.a,{style:[pe.image,pe.mediaMissingIconContainer]},m.createElement(se.a,{style:pe.newsIcon}))),T=l&&!i,E=[o,pe.root,{backgroundColor:p}],v=[pe.root,pe.mediaMissing],y=T?E:v,A=T?I:g;return m.createElement(F,{componentType:"image",destinationKey:t},(function(e){var t=e.link,a=e.onClick;return m.createElement(_e.a,{link:t,onClick:a,style:y},A)}))},a._renderOverlay=function(){var e=this.props.overlay;if(!e)return null;switch(e.type){case Y:return m.createElement(Q.a,{pointerEvents:"none",style:pe.momentsOverlay},m.createElement(ce.a,{background:"translucentBlack",square:!0},m.createElement(ie.a,null)));case B:return m.createElement(Q.a,{style:pe.playOverlay},m.createElement(de.a,{style:pe.playIcon}));case k:return m.createElement(Q.a,{style:pe.badgeOverlay},m.createElement(ce.a,{background:"translucentBlack"},e.text));default:return null}},t}(m.Component));ue.propTypes={};var pe=X.a.create((function(e){return{root:{width:"100%",height:"100%",overflow:"hidden"},image:{width:"100%",height:"100%"},badgeOverlay:{position:"absolute",bottom:e.spaces.xSmall,left:e.spaces.xSmall},momentsOverlay:{position:"absolute",bottom:e.spaces.xSmall,left:e.spaces.xSmall},playOverlay:{position:"absolute",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},momentsIcon:{height:e.spaces.small,color:e.colors.white},playIcon:{color:e.colors.primary,height:e.spaces.xxLarge},mediaMissing:{backgroundColor:e.colors.faintGray},mediaMissingIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},newsIcon:{color:e.colors.deepGray,height:"2em"}}})),me=ue,Ie=a("uavX"),ge=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,b()(E()(t),"state",{currentSlide:0}),b()(E()(t),"_handleChange",(function(e){t.setState({currentSlide:e})})),t}return y()(t,e),t.prototype.render=function(){var e=this.state.currentSlide,t=this.props.swipeableMedia,a=t[0].media_entity;if("photo"!==a.type)return null;var n=a.original_info,r=n.width/n.height;return m.createElement(N.a,{ratio:r,style:Te.aspectRatio},m.createElement(Q.a,{style:[Te.root]},m.createElement(Ie.a,{cellSpacing:5,currentSlide:e,onChange:this._handleChange,showNavButtonsOnHover:!0},t.map((function(e,a){var n=e.media_entity,r=e.destination;if("photo"!==n.type)return null;var i=n.original_info,o=i.width,s=i.height;return m.createElement(me,{destination:r,key:a,mediaEntity:n,ratio:n?Math.max(o/s,1):void 0,style:[Te.image,0===a&&Te.firstImage,a===t.length-1&&Te.lastImage]})})))))},t}(m.Component),Te=X.a.create((function(e){return{root:{height:"100%"},aspectRatio:{overflow:"visible"},image:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small},firstImage:{borderTopLeftRadius:e.borderRadii.large},lastImage:{borderTopRightRadius:e.borderRadii.large}}})),Ee=ge,ve=a("t62R"),ye=function(e){function t(){return e.apply(this,arguments)||this}return y()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,a=e.dir,n=e.numberOfLines,r=e.type;return m.createElement(ve.b,{color:"vanity"===r||"description"===r?"deepGray":"normal",dir:a,numberOfLines:n},"vanity"===r?m.createElement(ve.b,{size:"small",style:Ae.icon},m.createElement(q.a,null)):null,O.renderTwemojiText(t))},t}(m.Component);b()(ye,"displayName","@twitter/CardText"),b()(ye,"defaultProps",{dir:"auto"}),ye.propTypes={};var Ae=X.a.create((function(e){return{icon:{marginRight:e.spaces.micro}}})),be=ye,he=a("jV+4"),fe=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,b()(E()(t),"_hasText",(function(){var e=t.props,a=e.attribution,n=e.category,r=e.title,i=e.description,o=e.vanity;return!!(a||r||i||o||n)})),t}y()(t,e);var a=t.prototype;return a.render=function(){var e=this,t=this.props.destination;return m.createElement(F,{componentType:"details",destinationKey:t},(function(t){var a=t.link,n=t.onClick;return m.createElement(_e.a,{link:a,onClick:n,style:Se.detailItemsWrapper},e._renderContent(),e._renderExtraContent())}))},a._renderExtraContent=function(){var e=this.props.extraContent;return e?m.createElement(Q.a,{style:Se.extraContentWrapper},e):null},a._renderContent=function(){var e=this.props,t=e.attribution,a=e.category,n=e.chromeless,r=e.destination,i=e.footer,o=e.title,s=e.titleMaxLines,l=e.description,d=e.descriptionMaxLines,c=e.vanity,_=e.withBottomPadding,u=!r;return m.createElement(Q.a,{style:[Se.textContentWrapper,n?null:[Se.wrapperPadding,_&&Se.bottomPadding]]},t?m.createElement(he.a,{isProtected:t.protected,isVerified:t.verified,name:t.name,profileImageUrl:t.profile_image_url_https,screenName:t.screen_name,style:[Se.attributionWrapper,this._hasText()&&Se.spaceBelow],withLink:u}):null,a?m.createElement(Q.a,{style:[o||l||c||i?Se.spaceBelow:null]},m.createElement(be,{dir:Oe(a.is_rtl),numberOfLines:1,type:"description"},a.content)):null,o?m.createElement(Q.a,{style:[l||c||i?Se.spaceBelow:null]},m.createElement(be,{dir:Oe(o.is_rtl),numberOfLines:O.shouldLimitTextToSingleLine()?1:s,type:"title"},o.content)):null,l?m.createElement(Q.a,{style:[c||i?Se.spaceBelow:null]},m.createElement(be,{dir:Oe(l.is_rtl),numberOfLines:O.shouldLimitTextToSingleLine()?1:d,type:"description"},l.content)):null,i?m.createElement(Q.a,{style:[c?Se.spaceBelow:null]},m.createElement(be,{dir:"auto",numberOfLines:1,type:"description"},i)):null,c?m.createElement(Q.a,null,m.createElement(be,{dir:"auto",numberOfLines:1,type:"vanity"},c)):null)},t}(m.Component);b()(fe,"displayName","@twitter/CardDetail");var Oe=function(e){switch(e){case!0:return"rtl";case!1:return"ltr";default:return"auto"}},Se=X.a.create((function(e){return{attributionWrapper:{alignItems:"flex-start"},detailItemsWrapper:{flexDirection:"row",justifyContent:"space-between",flexGrow:1},extraContentWrapper:{flexShrink:0,padding:e.spaces.xSmall},textContentWrapper:{flexGrow:1,flexShrink:1,justifyContent:"center"},wrapperPadding:{paddingTop:e.spaces.xSmall,paddingHorizontal:e.spaces.xSmall},bottomPadding:{paddingBottom:e.spaces.xSmall},spaceBelow:{marginBottom:e.spaces.micro}}})),De=fe,Ne=a("RhWx"),Ce=a.n(Ne),Me=a("5Zlm"),we=a.n(Me),Le=function(e){function t(){return e.apply(this,arguments)||this}return y()(t,e),t.prototype.render=function(){var e=this.props,t=e.noVotes,a=e.isFinal,n=e.isSelected,r=e.isWinner,i=e.label,o=e.percentageOfTotalVote,s=100===o,l=r?"bold":void 0,d=t?"7px":o+"%";return m.createElement(Q.a,{style:Re.choice},m.createElement(Q.a,{style:[Re.choicePercentageBar,(a||s||t)&&Re.choicePercentageBarRoundCorners,r&&Re.choicePercentageBarWinner,{width:d}]}),m.createElement(Q.a,{style:Re.choiceLabel},m.createElement(ve.b,{weight:l},i,n?" ":null,n?m.createElement(we.a,null):null)),m.createElement(Q.a,{style:Re.choiceLabel},m.createElement(ve.b,{weight:l}," "+o+"%")))},t}(m.Component);Le.propTypes={};var Re=X.a.create((function(e){return{choice:{alignItems:"center",flexDirection:"row",height:e.spaces.large,justifyContent:"space-between"},choicePercentageBar:{backgroundColor:e.colors.lightGray,borderTopLeftRadius:e.borderRadii.medium,borderBottomLeftRadius:e.borderRadii.medium,position:"absolute",top:0,left:0,bottom:0},choicePercentageBarRoundCorners:{borderRadius:e.borderRadii.medium},choicePercentageBarWinner:{backgroundColor:e.colors.lightPrimary},choiceLabel:{paddingVertical:0,paddingHorizontal:e.spaces.xSmall}}})),xe=Le,Pe=function(e){function t(){return e.apply(this,arguments)||this}y()(t,e);var a=t.prototype;return a.render=function(){var e=this,t=this.props,a=t.choices,n=t.totalVotes,r=Math.max.apply(Math,Ce()(a.map((function(e){return e.count}))));return a.map((function(t,a){return m.createElement(Q.a,{key:t.index,style:0!==a&&ke.topMargin},e._renderChoiceResult(t,n,r))}))},a._renderChoiceResult=function(e,t,a){var n=this.props,r=n.isFinal,i=n.selectedChoice,o=Math.round(e.count/t*1e3)/10||0;return m.createElement(xe,{isFinal:r,isSelected:i===e.index,isWinner:r&&e.count===a,label:O.renderTwemojiText(e.cta,!0),noVotes:0===e.count,percentageOfTotalVote:o})},t}(m.Component),ke=X.a.create((function(e){return{topMargin:{marginTop:e.spaces.xSmall}}})),Ye=Pe,Be=function(e){function t(){return e.apply(this,arguments)||this}return y()(t,e),t.prototype.render=function(){var e=this.props,t=e.choices,a=e.endDatetimeUtc,n=e.isAuthor,r=e.isFinal,i=e.totalVotes,o=e.selectedChoice;return m.createElement(Q.a,null,o||r||n?m.createElement(Ye,{choices:t,isFinal:r,selectedChoice:o,totalVotes:i}):m.createElement(te,{buttonSize:"normalCompact",buttons:t.map((function(e){return{cta:e.cta,index:e.index,destination:e.destination}})),chromeless:!0}),m.createElement(ve.b,{color:"deepGray",style:Ge.pollStatus},O.renderNumVotesLabel(i)," Â·"," ",r?O.renderFinalResultsLabel():O.renderTimeLeftLabel(a)))},t}(m.Component);b()(Be,"displayName","@twitter/CardPoll");var Ge=X.a.create((function(e){return{pollStatus:{marginTop:e.spaces.xSmall}}})),je=Be,Ue=a("bPFD"),Ve=a("htQn"),We=a("7nmT"),ze=a.n(We),Fe=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),He=Object.freeze({large:{title:1,description:2},medium:{title:2,description:1},small:{title:2,description:0}}),qe=Object.freeze({large:5,medium:4,small:3}),Ke=Object.freeze({large:"normal",medium:"normalCompact",small:"normalCompact"}),Je=function(e,t,a){var n={large:He,small:Fe}[e],r=t>=450?n.large:t>=400?n.medium:n.small,i=a.attribution,o=a.category,s=a.description,l=a.footer,d=a.title,c=[o,i,a.vanity,l].some(Boolean),_=r.title+(s?0:r.description)+(c?0:1),u="small"!==e||d||c?r.description:r.description+1;return"small"===e?{titleMaxLines:_,descriptionMaxLines:u}:{titleMaxLines:Math.min(2,_),descriptionMaxLines:u}},Xe=function(e,t){var a=[t.attribution,t.category,t.description,t.footer,t.title,t.vanity].filter(Boolean).length,n=e>=450?qe.large:e>=400?qe.medium:qe.small;return Qe(n,a)},Ze=function(e){return e>=450?Ke.large:e>=400?Ke.medium:Ke.small},Qe=function(e,t){var a=X.a.theme,n=a.borderWidths,r=a.fontSizes,i=a.lineHeight,o=a.spaces;return"calc("+(r.normal+" * "+i+" * "+e)+" + "+(o.xSmall+" * 2")+" + "+(n.small+" * 2")+" + "+(o.micro+" * "+(t-1))+")"},$e=function(e){function t(t){var a;return a=e.call(this,t)||this,b()(E()(a),"_updateSizes",(function(e){var t=a.props,n=t.details,r=t.buttons,i=a.state,o=i.titleMaxLines,s=i.descriptionMaxLines,l=i.buttonSize,d=n?Je("large",e,n):{titleMaxLines:null,descriptionMaxLines:null},c=r?Ze(e):void 0,_=d.titleMaxLines,u=d.descriptionMaxLines;(_!==o||u!==s||c&&c!==l)&&a.setState(Object.assign({},_?{titleMaxLines:_}:null,{},u||0===u?{descriptionMaxLines:u}:null,{},c?{buttonSize:c}:null))})),b()(E()(a),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;a._updateSizes(t)})),b()(E()(a),"_setRootNode",(function(e){if(e){var t=ze.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&a._updateSizes(t.clientWidth)}})),a.state=Object.assign({},t.details?Je("large",500,t.details):null,{},t.buttons?{buttonSize:Ze(500)}:null),a}y()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.buttons,a=e.chromeless,n=e.details,r=e.poll,i=e.withInteractiveStyling,o=this._renderSwipeableMedia(),s=this._renderMedia()||o,l=!!r,d=!a&&!o,c=a&&!o,_=!!(r||t||n)&&!o;return m.createElement(Ve.a,{interactiveStyles:i?void 0:null,onLayout:this._handleLayout,style:[d&&et.border,o&&et.rootWithCarousel],viewRef:this._setRootNode},s?m.createElement(Q.a,{importantForAccessibility:"no-hide-descendants",style:[et.media,c&&et.border,_&&et.mediaBottomBorder,l&&et.mediaBottomSpace]},s):null,m.createElement(Q.a,{style:[o&&et.carouselBottomContent]},this._renderDetail(),this._renderButtons(),this._renderPoll()))},a._renderDetail=function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,a=e.descriptionMaxLines,n=this.props,r=n.buttons,i=n.chromeless,o=n.details,s=o.attribution,l=o.category,d=o.description,c=o.destination,_=o.footer,u=o.title,p=o.vanity;return m.createElement(De,{attribution:s,category:l,chromeless:i,description:0!==a?d:void 0,descriptionMaxLines:a,destination:c,footer:_,title:u,titleMaxLines:t,vanity:p,withBottomPadding:!r})},a._renderButtons=function(){var e=this.state.buttonSize,t=this.props,a=t.chromeless,n=t.buttons;return n?m.createElement(te,{buttonSize:e,buttons:n,chromeless:a}):null},a._renderPoll=function(){var e=this.props.poll;return e?m.createElement(je,e):null},a._renderSwipeableMedia=function(){var e=this.props.swipeableMedia;return e?m.createElement(Ee,{swipeableMedia:e}):null},a._renderMedia=function(){var e=this.props,t=e.locationKey,a=e.media,n=e.renderVideoPlayer;if(!a||!a.mediaEntity)return null;var r=a.aspect_ratio,i=a.mediaEntity,o=a.destination,s=a.overlay;if("photo"===i.type){var l=i.original_info,d=l.width,c=l.height;return m.createElement(me,{destination:o,locationKey:t&&t+"-largeCard",mediaEntity:i,overlay:s,ratio:r||(i?Math.max(d/c,1):void 0)})}return"iframe"===i.type?m.createElement(N.a,{ratio:Math.max(i.aspect_ratio,1)},m.createElement(Ue.a,{src:i.url,style:et.iframe})):"video"===i.type||"uc_video"===i.type||"live_broadcast"===i.type||"vine"===i.type||"tweet_video"===i.type?n?m.createElement(ga.Context.Consumer,null,(function(e){var t=e.isDataSaverEnabled,a=e.isPromoted;return n(i,t?a?"suboptimal":"preview":void 0)})):null:void 0},t}(m.Component);b()($e,"defaultProps",{isPromoted:!1,withInteractiveStyling:!0}),$e.propTypes={};var et=X.a.create((function(e){return{media:{display:"block"},mediaBottomBorder:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},mediaBottomSpace:{marginBottom:e.spaces.xSmall},border:{borderRadius:e.borderRadii.large,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,overflow:"hidden"},rootWithCarousel:{marginRight:e.spaces.large,borderRadius:e.borderRadii.large},carouselBottomContent:{borderBottomLeftRadius:e.borderRadii.large,borderBottomRightRadius:e.borderRadii.large,borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,marginTop:-.5},iframe:{height:"100%"}}})),tt=$e,at=function(e){function t(t){var a;return a=e.call(this,t)||this,b()(E()(a),"_updateSizes",(function(e){var t=a.state,n=t.titleMaxLines,r=t.descriptionMaxLines,i=t.imageWidthStyle,o=Je("small",e,a.props.details),s=Xe(e,a.props.details),l=o.titleMaxLines,d=o.descriptionMaxLines;s===i&&l===n&&d===r||a.setState({titleMaxLines:l,descriptionMaxLines:d,imageWidthStyle:s})})),b()(E()(a),"_handleLayout",(function(e){var t=e.nativeEvent.layout.width;a._updateSizes(t)})),b()(E()(a),"_setRootNode",(function(e){if(e){var t=ze.a.findDOMNode(e);t&&t instanceof window.HTMLElement&&a._updateSizes(t.clientWidth)}})),a.state=Object.assign({},Je("small",500,t.details),{},{imageWidthStyle:Xe(500,t.details)}),a}y()(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.reverse,a=e.withInteractiveStyling,n=this.state.imageWidthStyle,r=m.createElement(Q.a,{key:"details",style:rt.details},this._renderDetail()),i=m.createElement(Q.a,{importantForAccessibility:"no-hide-descendants",key:"media",style:[rt.media,{width:n},t?rt.mediaLeftBorder:rt.mediaRightBorder]},this._renderMedia());return m.createElement(Ve.a,{interactiveStyles:a?void 0:null,onLayout:this._handleLayout,style:rt.root,viewRef:this._setRootNode},t?[r,i]:[i,r])},a._renderDetail=function(){if(!this.props.details)return null;var e=this.state,t=e.titleMaxLines,a=e.descriptionMaxLines,n=this.props.details;return m.createElement(De,{attribution:n.attribution,category:n.category,description:0!==a?n.description:void 0,descriptionMaxLines:a,destination:n.destination,footer:n.footer,title:n.title,titleMaxLines:t,vanity:n.vanity,withBottomPadding:!0})},a._renderMedia=function(){var e=this.props,t=e.locationKey,a=e.media,n=a.mediaEntity,r=a.destination,i=a.overlay;return n&&"photo"!==n.type?null:m.createElement(ga.Context.Consumer,null,(function(e){var a=e.isDataSaverEnabled,o=e.isPromoted,s=a&&!o;return m.createElement(me,{destination:r,locationKey:t&&t+"-smallCard",mediaEntity:n,overlay:i,ratio:1,renderPlaceholder:s})}))},t}(m.Component);b()(at,"defaultProps",{withInteractiveStyling:!0}),at.propTypes={};var nt,rt=X.a.create((function(e){return{root:{borderColor:e.colors.nestedBorderColor,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,overflow:"hidden",flexDirection:"row"},media:{display:"block",borderColor:e.colors.nestedBorderColor,borderStyle:"solid"},mediaLeftBorder:{borderLeftWidth:e.borderWidths.small},mediaRightBorder:{borderRightWidth:e.borderWidths.small},details:{flexGrow:1,flexShrink:1,justifyContent:"center"}}})),it=at,ot=(a("NlgC"),function(e,t,a){return("string"==typeof a?[a]:a).map((function(a){return e[a]&&e[a][t]})).find((function(e){return!!e}))}),st=ot,lt=ot,dt=ot,ct=ot,_t=function(e,t){var a=function e(t){return{and:function(a){return e(t&&n(a))},or:function(a){return e(t||n(a))},result:function(){return t}}},n=function(t){return"string"==typeof t?!!e[t]:t(a(!0).and).result()};return n(t)},ut=function(e,t){return{media_url_https:e.url,type:"photo",original_info:{width:e.width,height:e.height},ext_media_color:{palette:[]},cropCandidates:t}},pt=function(e){var t=e.match(/\/([0-9]+)(\/|\.)/);return t?t[1]:""},mt=function(e){return"https://cards-frame.twitter.com/i/cards/tfw/v1/uc/"+e},It={url:"https://pbs.twimg.com/lex/placeholder_live_nomargin.png",width:1920,height:1080},gt="NOT_STARTED",Tt=function(e){var t=st(e,"string_value","domain"),a=dt(e,"user_value","site"),n=st(e,"string_value","app_name");return t&&"vine.co"===t.toLowerCase()||a&&"586671909"===a.id_str||n&&"vine"===n.toLowerCase()},Et=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=e.cardContext,c=ct(l,"image_value","player_image_original"),_=st(l,"string_value","description"),u=parseInt(st(l,"string_value","player_width"),10)/parseInt(st(l,"string_value","player_height"),10);return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:"small"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,destinations:(a={},a[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value","card_url"),vanity:st(l,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},a),components:(n={},n[L]=[w.MEDIA,w.DETAILS],n[x]=[w.MEDIA_STATIC,w.DETAILS],n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(c),r[w.VIDEO_ENTITY]={type:"vine",aspect_ratio:u,content_id:pt(c.url),poster_image:c,publisher_id:st(l,"string_value","site")||d.tweetUserId,variants:[{src:st(l,"string_value","player_stream_url"),type:st(l,"string_value","player_stream_content_type")}]},r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION,overlay:{type:B}}},i[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},_?{description:{content:_}}:null,{title:{content:st(l,"string_value","title")}})},i)}}},vt=(a("LnO1"),a("3eMz"),a("dtAy"),a("DB+v"),{media:!0,details:!0,button_group:!0,app_store_details:!0,swipeable_media:!0}),yt=function(e){var t=function(t){return t.map((function(t){return e.find((function(e){return e.type===t}))})).find(Boolean)},a="android"===O.getMobileOS()?t(["android_app","iphone_app","ipad_app"]):t(["iphone_app","ipad_app","android_app"]);if(a)return a.category||(a.category={is_rtl:!1,content:"android_app"===a.type?"Play Store":"App Store"}),a.url="android_app"===a.type?"http://play.google.com/store/apps/details?id="+a.id:function(e){return"https://itunes.apple.com/app/id"+e}(a.id),a},At=function(e){return e.unified_card&&e.unified_card.string_value&&"string"==typeof e.unified_card.string_value?JSON.parse(e.unified_card.string_value):{components:[],component_objects:{},destination_objects:{},media_entities:{},app_store_data:{}}},bt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=e.cardContext,c=ct(l,"image_value","player_image_original"),_=parseInt(st(l,"string_value","player_width"),10)/parseInt(st(l,"string_value","player_height"),10),u=st(l,"string_value","content_duration_seconds"),p=st(l,"string_value","title"),m=st(l,"string_value","description");return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:"large"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=p||m?[w.MEDIA,w.DETAILS]:[w.MEDIA],a[x]=p||m?[w.MEDIA_STATIC,w.DETAILS_STATIC]:[w.MEDIA_STATIC],a),destinations:(n={},n[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:d.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(c||{}),r[w.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:_,content_id:st(l,"string_value","amplify_content_id")},u?{duration_ms:1e3*parseInt(u,10)}:null,{vmap_url:st(l,"string_value","amplify_url_vmap"),poster_image:c,publisher_id:st(l,"string_value","site")||d.tweetUserId,variants:[]}),r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION_STATIC,overlay:{type:B}}},i[w.DETAILS]={type:U,data:Object.assign({},p?{title:{content:p}}:null,{},m?{description:{content:m}}:null)},i[w.DETAILS_STATIC]={type:U,data:Object.assign({},p?{title:{content:p}}:null,{},m?{description:{content:m}}:null,{destination:w.DESTINATION_STATIC})},i)}}},ht=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=ct(l,"image_value","thumbnail_original"),c=st(l,"string_value","description"),_=st(l,"string_value","app_star_rating"),u=st(l,"string_value","app_num_ratings"),p=_&&u?O.renderRatingsLabel({appStarRating:_,appNumRatings:u}):null,m=st(l,"string_value","card_url");return{state:L,layout:(t={},t[L]={size:"small"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:Object.assign({url:st(l,"string_value","card_url")},p?null:{vanity:m}),scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},d?(r={},r[w.IMAGE_ENTITY]=ut(d),r):null),components_data:(i={},i[w.MEDIA]={type:j,data:{id:d?w.IMAGE_ENTITY:null,aspect_ratio:1,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},c?{description:{content:c}}:null,{title:{content:st(l,"string_value","title")}},p?{footer:p}:null)},i)}}},ft=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=e.cardContext,c=ct(l,"image_value","player_image_original"),_=parseInt(st(l,"string_value","player_width"),10)/parseInt(st(l,"string_value","player_height"),10),u=st(l,"string_value","content_duration_seconds");return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:"large"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a[x]=[w.MEDIA_STATIC,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value","card_url")},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(c),r[w.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:_,content_id:st(l,"string_value","player_content_id")||pt(c.url)},u?{duration_ms:1e3*parseInt(u,10)}:null,{vmap_url:st(l,"string_value","player_stream_url"),poster_image:c,publisher_id:st(l,"string_value","player_owner_id")||d.tweetUserId,variants:[{src:st(l,"string_value","player_hls_url"),type:"application/x-mpegURL"}]}),r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY,aspect_ratio:_}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,aspect_ratio:_,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:{destination:w.DESTINATION,title:{content:st(l,"string_value","title")},footer:st(l,"string_value","app_category")||"App Store"}},i)}}},Ot=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,d=e.data,c=e.cardContext,_=ct(d,"image_value","player_image_original"),u=st(d,"string_value","description"),p=st(d,"string_value","player_url"),m=st(d,"string_value","player_width"),I=st(d,"string_value","player_height"),g=m&&I?parseInt(m,10)/parseInt(I,10):16/9,T=[w.MEDIA,w.DETAILS],E=[w.MEDIA_STATIC,w.DETAILS_SECONDARY];return{state:L,layout:(t={},t[L]={size:"small"},t[R]={size:"large"},t[x]={size:"small"},t[P]={size:"small"},t),card:{card_name:l,card_url:st(d,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(a={},a[L]=c.tweetId?T:E,a[R]=[w.MEDIA_SECONDARY,w.DETAILS_SECONDARY],a[x]=E,a[P]=[w.MEDIA_STATIC,w.DETAILS_SECONDARY],a),destinations:(n={},n[w.DESTINATION]={type:G.ACTION,data:{action_data:{next_state:R,persist:!1,vanity:st(d,"string_value",["partner","card_url"])},scribe:"click",promoted_log:"card_url_click"}},n[w.DESTINATION_SECONDARY]={type:G.BROWSER,data:{url_data:{url:st(d,"string_value","card_url"),vanity:st(d,"string_value",["partner","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},_?(r={},r[w.IMAGE_ENTITY]=ut(_),r):null,{},p&&c.tweetId?(i={},i[w.IFRAME_ENTITY]={aspect_ratio:g,type:"iframe",url:mt(c.tweetId)},i):null),components_data:(o={},o[w.MEDIA]={type:j,data:{id:_?w.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:B},destination:p?w.DESTINATION:w.DESTINATION_SECONDARY}},o[w.MEDIA_SECONDARY]={type:j,data:{id:p?w.IFRAME_ENTITY:null,aspect_ratio:g}},o[w.MEDIA_STATIC]={type:j,data:{id:_?w.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:B},destination:w.DESTINATION_SECONDARY}},o[w.DETAILS]={type:U,data:Object.assign({destination:p?w.DESTINATION:w.DESTINATION_SECONDARY},u?{description:{content:u}}:null,{title:{content:st(d,"string_value","title")}})},o[w.DETAILS_SECONDARY]={type:U,data:Object.assign({destination:w.DESTINATION_SECONDARY},u?{description:{content:u}}:null,{title:{content:st(d,"string_value","title")}})},o)}}},St=function(e){var t,a,n,r,i,o,s,l=e.cardId,d=e.cardType,c=e.data,_=e.users,u=dt(c,"user_value","site"),p=u&&_[u.id_str],m=st(c,"string_value","broadcaster_display_name"),I=st(c,"string_value","broadcast_state")===gt,g=ct(c,"image_value","broadcast_thumbnail_original"),T=ct(c,"image_value","broadcast_pre_live_slate")||It,E=I?T:g,v=st(c,"string_value","broadcast_scheduled_start_time"),y=I&&v?O.renderStartingTimeLabel(v):void 0,A=X.a.theme.aspectRatios.landscape,b=Math.max(parseInt(st(c,"string_value","broadcast_width"),10)/parseInt(st(c,"string_value","broadcast_height"),10),1);return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:E?"large":"small"},t),card:{card_name:d,card_url:st(c,"string_value","card_url"),fetch_updates:(a={},a[L]=!0,a),on_visibility:{scribe:"show"},id:l,components:(n={},n[L]=[I?w.MEDIA_SECONDARY:w.MEDIA,w.DETAILS],n[x]=[w.MEDIA_SECONDARY,w.DETAILS],n),destinations:(r={},r[w.DESTINATION]={type:G.BROADCAST,data:{broadcast_data:{id:st(c,"string_value","broadcast_id")},scribe:"open_link",promoted_log:"card_url_click"}},r),media_entities:Object.assign({},E?(i={},i[w.IMAGE_ENTITY]=ut(E),i):null,(o={},o[w.VIDEO_ENTITY]=Object.assign({type:"live_broadcast",aspect_ratio:b,broadcast_id:st(c,"string_value","broadcast_id"),content_id:st(c,"string_value","broadcast_media_key"),destination:w.DESTINATION},E?{poster_image:E}:null,{timecode:st(c,"string_value","broadcast_timecode")||st(c,"string_value","broadcast_replay_edited_start_time")}),o)),components_data:(s={},s[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY,aspect_ratio:b}},s[w.MEDIA_SECONDARY]={type:j,data:{id:E?w.IMAGE_ENTITY:null,aspect_ratio:A,destination:w.DESTINATION,overlay:I?y?{type:k,text:y}:void 0:{type:B}}},s[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},p?{attribution:p}:{category:{content:m}},{title:{content:st(c,"string_value","broadcast_title")}})},s)}}},Dt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=ct(l,"image_value","thumbnail_original"),c=st(l,"string_value","description"),_=st(l,"string_value","app_star_rating"),u=st(l,"string_value","app_num_ratings"),p=_&&u?O.renderRatingsLabel({appStarRating:_,appNumRatings:u}):null,m=st(l,"string_value","card_url");return{state:L,layout:(t={},t[L]={size:"small"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:Object.assign({url:st(l,"string_value","card_url")},p?null:{vanity:m}),scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},d?(r={},r[w.IMAGE_ENTITY]=ut(d),r):null),components_data:(i={},i[w.MEDIA]={type:j,data:{id:d?w.IMAGE_ENTITY:null,aspect_ratio:1,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},c?{description:{content:c}}:null,{title:{content:st(l,"string_value","title")}},p?{footer:p}:null)},i)}}},Nt=function(e){var t,a,n,r,i,o,s,l=e.cardId,d=e.cardType,c=e.data,_=e.cardContext,u=e.users,p=ct(c,"image_value","image_original"),m=function(e){return[1,2,3,4].map((function(t){var a=st(c,"string_value","cta"+t),n=st(c,"string_value","cta"+t+"_wm_id");return a&&n?{cta:a,wm_id:n,destination:e,icon:"dm",index:t}:null})).filter(Boolean)},I=m(w.DESTINATION),g=m(w.DESTINATION_STATIC),T=dt(c,"user_value","recipient"),E=T&&u[T.id_str],v=T.id_str!==_.tweetUserId&&E;return{state:L,layout:(t={},t[L]={size:"large"},t),card:{card_name:d,card_url:st(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:l,components:(a={},a[L]=[w.MEDIA].concat(Ce()(v?[w.DETAILS]:[]),[w.BUTTON_GROUP]),a[x]=[w.MEDIA_STATIC].concat(Ce()(v?[w.DETAILS]:[]),[w.BUTTON_GROUP_STATIC]),a),destinations:(n={},n[w.DESTINATION]={type:G.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:T.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}},n[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:_.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(p),r),components_data:Object.assign((i={},i[w.MEDIA]={type:j,data:{id:w.IMAGE_ENTITY}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION_STATIC}},i),v?(o={},o[w.DETAILS]={type:U,data:{attribution:E}},o):null,(s={},s[w.BUTTON_GROUP]={type:V,data:{buttons:I}},s[w.BUTTON_GROUP_STATIC]={type:V,data:{buttons:g}},s))}}},Ct=function(e){var t,a,n,r,i,o,s,l=e.cardId,d=e.cardType,c=e.data,_=e.users,u=dt(c,"user_value","author"),p=u&&_[u.id_str],m=st(c,"string_value","event_id"),I=st(c,"string_value","event_category"),g=st(c,"string_value","media_type"),T="broadcast"===g,E="video"===g,v=st(c,"string_value","broadcast_id"),y=Math.max(parseInt(st(c,"string_value","broadcast_width"),10)/parseInt(st(c,"string_value","broadcast_height"),10),1),A=st(c,"string_value","broadcast_media_key"),b=st(c,"string_value","media_tweet_id"),h=ct(c,"image_value","event_thumbnail_original"),f=ct(c,"image_value","broadcast_thumbnail"),O=T?f:h,S=T?void 0:[{h:parseInt(st(c,"string_value","event_thumbnail_media_size_crops_16x9_h"),10),w:parseInt(st(c,"string_value","event_thumbnail_media_size_crops_16x9_w"),10),x:parseInt(st(c,"string_value","event_thumbnail_media_size_crops_16x9_x"),10),y:parseInt(st(c,"string_value","event_thumbnail_media_size_crops_16x9_y"),10)}];return{state:L,layout:(t={},t[L]={size:"large"},t[P]={size:"small"},t[R]={size:"small",reverse:!0},t[x]={size:O?"large":"small"},t),card:{card_name:d,card_url:st(c,"string_value","card_url"),fetch_updates:(a={},a[L]=!0,a[P]=!0,a),on_visibility:{scribe:"show"},id:l,components:(n={},n[L]=[T||E?w.MEDIA:w.MEDIA_STATIC,w.DETAILS],n[P]=[w.MEDIA_STATIC,w.DETAILS],n[R]=[w.MEDIA_STATIC,w.DETAILS],n[x]=[w.MEDIA_STATIC,w.DETAILS],n),destinations:(r={},r[w.DESTINATION]={type:G.EVENT,data:{event_data:{id:m},scribe:"open_link",promoted_log:"card_url_click"}},r),media_entities:Object.assign({},O?(i={},i[w.IMAGE_ENTITY]=ut(O,S),i):null,(o={},o[w.VIDEO_ENTITY]=T?{type:"live_broadcast",aspect_ratio:y,broadcast_id:v,content_id:A,destination:w.DESTINATION,poster_image:O,timecode:st(c,"string_value","broadcast_replay_edited_start_time")}:{type:"tweet_video",aspect_ratio:X.a.theme.aspectRatios.landscape,media_tweet_id:b,event_id:m,poster_image:O},o)),components_data:(s={},s[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY,aspect_ratio:T?y:X.a.theme.aspectRatios.landscape}},s[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,aspect_ratio:X.a.theme.aspectRatios.landscape,destination:w.DESTINATION}},s[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},p?{attribution:p}:I?{category:{content:I}}:null,{title:{content:st(c,"string_value","event_title")}})},s)}}},Mt=function(e){var t,a,n,r,i=e.cardId,o=e.cardType,s=e.data,l=e.cardContext,d=st(s,"string_value","default_composer_text"),c=st(s,"string_value","welcome_message_id"),_=Object.assign({icon:"dm",index:0,cta:O.getMessageMeString(st(s,"string_value","cta"))},d?{composer_text:d}:null,{},c?{wm_id:c}:null),u=dt(s,"user_value","recipient");return{state:L,layout:(t={},t[L]={size:"large",chromeless:!0},t[x]={size:"large",chromeless:!0},t),card:{card_name:o,card_url:st(s,"string_value","card_url"),on_visibility:{scribe:"message_me_show"},id:i,components:(a={},a[L]=[w.BUTTON_GROUP],a[x]=[w.BUTTON_GROUP_STATIC],a),destinations:(n={},n[w.DESTINATION]={type:G.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:u.id_str},auth_required:!0,scribe:"message_me_click",promoted_log:"card_url_click"}},n[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:l.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:{},components_data:(r={},r[w.BUTTON_GROUP]={type:V,data:{buttons:[Object.assign({},_,{destination:w.DESTINATION})]}},r[w.BUTTON_GROUP_STATIC]={type:V,data:{buttons:[Object.assign({},_,{destination:w.DESTINATION_STATIC})]}},r)}}},wt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=e.users,c=ct(l,"image_value","photo_image")||{url:st(l,"string_value","cover_format_media_url"),width:parseInt(st(l,"string_value","cover_format_media_size_w"),10)||0,height:parseInt(st(l,"string_value","cover_format_media_size_h"),10)||0},_=dt(l,"user_value","author"),u=_&&d[_.id_str],p=st(l,"string_value","title"),m=st(l,"string_value","description"),I=st(l,"string_value","subcategory_string");return{state:L,layout:(t={},t[L]={size:"small",reverse:!0},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.MOMENT,data:{moment_data:{moment:st(l,"string_value","id")},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(c),r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.IMAGE_ENTITY,aspect_ratio:1,overlay:{type:Y},destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},u?{attribution:u}:I?{category:{content:I}}:null,{},p?{title:{content:p}}:null,{},m?{description:{content:m}}:null)},i)}}},Lt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,d=e.data,c=e.users,_=ct(d,"image_value","thumbnail_original"),u=Math.max(parseInt(st(d,"string_value","broadcast_width"),10)/parseInt(st(d,"string_value","broadcast_height"),10),1),p=st(d,"string_value","broadcaster_twitter_id"),m=p&&c[p],I=st(d,"string_value","description");return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:_?"large":"small"},t),card:{card_name:l,card_url:st(d,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a[x]=[w.MEDIA_STATIC,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(d,"string_value","card_url"),vanity:st(d,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},_?(r={},r[w.IMAGE_ENTITY]=ut(_),r):null,(i={},i[w.VIDEO_ENTITY]=Object.assign({type:"live_broadcast",aspect_ratio:u,broadcast_id:st(d,"string_value","id"),content_id:st(d,"string_value","broadcast_media_key"),destination:w.DESTINATION},_?{poster_image:_}:null,{timecode:st(d,"string_value","timecode")||st(d,"string_value","replay_edited_start_time")}),i)),components_data:(o={},o[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY,aspect_ratio:u}},o[w.MEDIA_STATIC]={type:j,data:{id:_?w.IMAGE_ENTITY:null,destination:w.DESTINATION,overlay:{type:B}}},o[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},I?{description:{content:I}}:null,{},m?{attribution:m}:null,{},p?null:{title:{content:st(d,"string_value","title")}})},o)}}},Rt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,d=e.data,c=e.cardContext,_=e.users,u=ct(d,"image_value","player_image_original"),p=st(d,"string_value","description"),m=st(d,"string_value","player_url"),I=parseInt(st(d,"string_value","player_width"),10)/parseInt(st(d,"string_value","player_height"),10),g=[w.MEDIA,w.DETAILS],T=[w.MEDIA_STATIC,w.DETAILS_SECONDARY];return Tt(d)?Et({cardId:s,cardType:l,data:d,cardContext:c,users:_}):{state:L,layout:(t={},t[L]={size:"small"},t[R]={size:"large"},t[x]={size:"small"},t[P]={size:"small"},t),card:{card_name:l,card_url:st(d,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:(a={},a[L]=c.tweetId?g:T,a[R]=[w.MEDIA_SECONDARY,w.DETAILS_SECONDARY],a[x]=T,a[P]=[w.MEDIA_STATIC,w.DETAILS_SECONDARY],a),destinations:(n={},n[w.DESTINATION]={type:G.ACTION,data:{action_data:{next_state:R,persist:!1,vanity:st(d,"string_value",["vanity_url","card_url"])},scribe:"click",promoted_log:"card_url_click"}},n[w.DESTINATION_SECONDARY]={type:G.BROWSER,data:{url_data:{url:st(d,"string_value","card_url"),vanity:st(d,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},u?(r={},r[w.IMAGE_ENTITY]=ut(u),r):null,{},m&&c.tweetId?(i={},i[w.IFRAME_ENTITY]={type:"iframe",url:mt(c.tweetId),aspect_ratio:I},i):null),components_data:(o={},o[w.MEDIA]={type:j,data:{id:u?w.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:B},destination:m?w.DESTINATION:w.DESTINATION_SECONDARY}},o[w.MEDIA_SECONDARY]={type:j,data:{id:m?w.IFRAME_ENTITY:null,aspect_ratio:I}},o[w.MEDIA_STATIC]={type:j,data:{id:u?w.IMAGE_ENTITY:null,aspect_ratio:1,overlay:{type:B},destination:w.DESTINATION_SECONDARY}},o[w.DETAILS]={type:U,data:Object.assign({destination:m?w.DESTINATION:w.DESTINATION_SECONDARY},p?{description:{content:p}}:null,{title:{content:st(d,"string_value","title")}})},o[w.DETAILS_SECONDARY]={type:U,data:Object.assign({destination:w.DESTINATION_SECONDARY},p?{description:{content:p}}:null,{title:{content:st(d,"string_value","title")}})},o)}}},xt=function(e){var t,a,n,r,i,o,s,l,d,c,_=e.cardId,u=e.cardType,p=e.data,m=e.cardContext,I=ct(p,"image_value","image_original"),g=st(p,"string_value","player_stream_url"),T=ct(p,"image_value","player_image_original"),E=parseInt(st(p,"string_value","player_width"),10)/parseInt(st(p,"string_value","player_height"),10),v=st(p,"string_value","content_duration_seconds"),y=lt(p,"boolean_value","counts_are_final"),A=st(p,"string_value","selected_choice"),b=st(p,"string_value","end_datetime_utc"),h=m.viewerUserId===m.tweetUserId,f=function(e){var t=[1,2,3,4].map((function(t){var a=st(p,"string_value","choice"+t+"_label"),n=st(p,"string_value","choice"+t+"_count");return a?{index:t,cta:a,count:parseInt(n,10)||0,destination:e}:null})).filter(Boolean);return{type:"poll",data:Object.assign({choices:t,isAuthor:h,isFinal:y,endDatetimeUtc:b},A?{selectedChoice:parseInt(A,10)}:null,{totalVotes:t.reduce((function(e,t){return e+t.count}),0)})}};return{layout:(t={},t[L]={size:"large",chromeless:!0},t),state:L,card:{id:_,card_name:u,card_url:st(p,"string_value","card_url"),on_visibility:{scribe:"show"},fetch_updates:(a={},a[L]=!y,a),components:(n={},n[L]=I||g?[w.POLL,w.MEDIA]:[w.POLL],n[x]=I||g?[w.POLL_STATIC,w.MEDIA_STATIC]:[w.POLL_STATIC],n),components_data:Object.assign((r={},r[w.POLL]=f(w.DESTINATION),r[w.POLL_STATIC]=f(w.DESTINATION_STATIC),r),I?(i={},i[w.MEDIA]={type:j,data:{id:w.IMAGE_ENTITY}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY}},i):g?(o={},o[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY}},o[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY_STATIC}},o):null),destinations:(s={},s[w.DESTINATION]={type:G.ACTION,data:{action_data:{persist:!0,type:"vote"},auth_required:!0,scribe:"vote",promoted_log:"poll_card_vote"}},s[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:m.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},s),media_entities:Object.assign({},I?(l={},l[w.IMAGE_ENTITY]=ut(I),l):null,{},g?(d={},d[w.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:E,content_id:st(p,"string_value","player_content_id")||pt(g)},v?{duration_ms:1e3*parseInt(v,10)}:null,{vmap_url:g,poster_image:T,publisher_id:st(p,"string_value","player_owner_id")||m.tweetUserId,variants:[{src:st(p,"string_value","player_hls_url"),type:"application/x-mpegURL"}]}),d):null,{},g?(c={},c[w.IMAGE_ENTITY_STATIC]=ut(T||{}),c):null)}}},Pt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=ct(l,"image_value","promo_image_original");return{state:L,layout:(t={},t[L]={size:"large"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS,w.BUTTON_GROUP],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value",["app_url","card_url"])},scribe:"open_link",promoted_log:"install_app"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(d),r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:{destination:w.DESTINATION,title:{content:st(l,"string_value","title")},footer:"App Store"}},i[w.BUTTON_GROUP]={type:V,data:{buttons:[{index:0,cta:O.getCtaString(st(l,"string_value","cta_key")),destination:w.DESTINATION}]}},i)}}},kt=function(e){var t,a,n,r,i,o,s=e.cardId,l=e.cardType,d=e.data,c=e.cardContext,_=st(d,"string_value","thank_you_url"),u=ct(d,"image_value",["cover_promo_image","promo_image"]),p=ct(d,"image_value","promo_image"),m=st(d,"string_value","title"),I=function(e){return["one","two","three","four"].map((function(t,a){var n=st(d,"string_value","cta_"+t),r=st(d,"string_value","cta_"+t+"_tweet");return n&&r?{icon:"compose",index:a,cta:O.renderTweetActionLabel(n),tweet:r,destination:e}:null})).filter(Boolean)},g=I(w.DESTINATION),T=I(w.DESTINATION_STATIC);return{state:L,layout:(t={},t[L]={size:"large"},t[R]={size:"large"},t),card:{card_name:l,card_url:st(d,"string_value","card_url"),on_visibility:{scribe:"show"},id:s,components:{default:[w.MEDIA,w.DETAILS,w.BUTTON_GROUP],secondary:[w.MEDIA_SECONDARY,w.DETAILS_SECONDARY],static:[w.MEDIA_STATIC,w.DETAILS_STATIC,w.BUTTON_GROUP_STATIC]},destinations:Object.assign((a={},a[w.DESTINATION]={type:G.ACTION,data:{action_data:{next_state:R,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}},a),_?(n={},n[w.DESTINATION_SECONDARY]={type:G.BROWSER,data:{url_data:{url:_,vanity:st(d,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n):null,(r={},r[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:c.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},r)),media_entities:(i={},i[w.IMAGE_ENTITY]=ut(u),i[w.IMAGE_ENTITY_SECONDARY]=ut(p),i),components_data:(o={},o[w.MEDIA]={type:j,data:{id:w.IMAGE_ENTITY}},o[w.MEDIA_SECONDARY]={type:j,data:{id:w.IMAGE_ENTITY_SECONDARY,destination:w.DESTINATION_SECONDARY}},o[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION_STATIC}},o[w.DETAILS]={type:U,data:Object.assign({},m?{title:{content:m}}:null)},o[w.DETAILS_SECONDARY]={type:U,data:Object.assign({title:{content:st(d,"string_value","thank_you_text")}},_?{destination:w.DESTINATION_SECONDARY}:null)},o[w.DETAILS_STATIC]={type:U,data:Object.assign({},m?{title:{content:m}}:null)},o[w.BUTTON_GROUP]={type:V,data:{buttons:g}},o[w.BUTTON_GROUP_STATIC]={type:V,data:{buttons:T}},o)}}},Yt=function(e){var t,a,n,r,i,o,s,l=e.cardId,d=e.cardType,c=e.data,_=e.cardContext,u=st(c,"string_value","thank_you_url"),p=ct(c,"image_value",["cover_player_image_original","player_image_original"]),m=ct(c,"image_value","player_image_original"),I=ct(c,"image_value","cover_promo_image_original"),g=st(c,"string_value","title"),T=parseInt(st(c,"string_value","cover_player_width"),10)/parseInt(st(c,"string_value","cover_player_height"),10),E=parseInt(st(c,"string_value","player_width"),10)/parseInt(st(c,"string_value","player_height"),10),v=function(e){return["one","two","three","four"].map((function(t,a){var n=st(c,"string_value","cta_"+t),r=st(c,"string_value","cta_"+t+"_tweet");return n&&r?{icon:"compose",index:a,cta:O.renderTweetActionLabel(n),tweet:r,destination:e}:null})).filter(Boolean)},y=v(w.DESTINATION),A=v(w.DESTINATION_STATIC),b=st(c,"string_value","cover_player_stream_url"),h=st(c,"string_value","player_stream_url"),f=st(c,"string_value","player_hls_url"),S=dt(c,"user_value","site"),D=st(c,"string_value","content_duration_seconds"),N=st(c,"string_value","cover_content_duration_seconds");return{state:L,layout:(t={},t[L]={size:"large"},t[R]={size:"large"},t[x]={size:"large"},t),card:{card_name:d,card_url:st(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:l,components:{default:[w.MEDIA,w.DETAILS,w.BUTTON_GROUP],secondary:[w.MEDIA_SECONDARY,w.DETAILS_SECONDARY],static:[w.MEDIA_STATIC,w.DETAILS_STATIC,w.BUTTON_GROUP_STATIC]},destinations:Object.assign((a={},a[w.DESTINATION]={type:G.ACTION,data:{action_data:{next_state:R,persist:!0,type:"compose"},auth_required:!0,scribe:"click",promoted_log:"convo_button_click"}},a),u?(n={},n[w.DESTINATION_SECONDARY]={type:G.BROWSER,data:{url_data:{url:u,vanity:st(c,"string_value",["thank_you_vanity_url","thank_you_shortened_url","thank_you_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n):null,(r={},r[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:_.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},r)),media_entities:Object.assign({},b?(i={},i[w.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:T,content_id:pt(b)},N?{duration_ms:1e3*parseInt(N,10)}:null,{vmap_url:b,poster_image:p,publisher_id:S?S.id_str:_.tweetUserId}),i):null,(o={},o[w.VIDEO_ENTITY_SECONDARY]=Object.assign({type:"video",aspect_ratio:E,content_id:pt(h)},D?{duration_ms:1e3*parseInt(D,10)}:null,{vmap_url:h,poster_image:m,publisher_id:S?S.id_str:_.tweetUserId},f?{variants:[{src:f,type:"application/x-mpegURL"}]}:null),o[w.IMAGE_ENTITY]=ut(I||{}),o[w.IMAGE_ENTITY_STATIC]=ut(m||{}),o)),components_data:(s={},s[w.MEDIA]={type:j,data:{id:b?w.VIDEO_ENTITY:I?w.IMAGE_ENTITY:w.VIDEO_ENTITY_SECONDARY}},s[w.MEDIA_SECONDARY]={type:j,data:{id:w.VIDEO_ENTITY_SECONDARY}},s[w.MEDIA_STATIC]={type:j,data:{id:m?w.IMAGE_ENTITY_STATIC:w.IMAGE_ENTITY,destination:w.DESTINATION_STATIC,aspect_ratio:m?void 0:1.91}},s[w.DETAILS]={type:U,data:Object.assign({},g?{title:{content:g}}:null)},s[w.DETAILS_SECONDARY]={type:U,data:Object.assign({title:{content:st(c,"string_value","thank_you_text")}},u?{destination:w.DESTINATION_SECONDARY}:null)},s[w.DETAILS_STATIC]={type:U,data:Object.assign({},g?{title:{content:g}}:null)},s[w.BUTTON_GROUP]={type:V,data:{buttons:y}},s[w.BUTTON_GROUP_STATIC]={type:V,data:{buttons:A}},s)}}},Bt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=e.cardContext,c=ct(l,"image_value","player_image_original"),_=st(l,"string_value","player_hls_url"),u=parseInt(st(l,"string_value","player_width"),10)/parseInt(st(l,"string_value","player_height"),10),p=st(l,"string_value","content_duration_seconds");return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:"large"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a[x]=[w.MEDIA_STATIC,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value",["website_shortened_url","website_url","card_url"]),vanity:st(l,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(c),r[w.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:u,content_id:st(l,"string_value","player_content_id")||pt(c.url)},p?{duration_ms:1e3*parseInt(p,10)}:null,{vmap_url:st(l,"string_value","player_stream_url"),poster_image:c,publisher_id:st(l,"string_value","player_owner_id")||d.tweetUserId},_?{variants:[{src:_,type:"application/x-mpegURL"}]}:null),r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY,aspect_ratio:u}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,aspect_ratio:u,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:{destination:w.DESTINATION,title:{content:st(l,"string_value","title")}}},i)}}},Gt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=ct(l,"image_value","promo_image_original");return{state:L,layout:(t={},t[L]={size:"large"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value",["website_shortened_url","website_url","card_url"]),vanity:st(l,"string_value",["vanity_url","website_shortened_url","website_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(d),r),components_data:(i={},i[w.MEDIA]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:{destination:w.DESTINATION,title:{content:st(l,"string_value","title")}}},i)}}},jt=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=ct(l,"image_value","thumbnail_image_original"),c=st(l,"string_value","description");return{state:L,layout:(t={},t[L]={size:"small"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value","card_url"),vanity:st(l,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},d?(r={},r[w.IMAGE_ENTITY]=ut(d),r):null),components_data:(i={},i[w.MEDIA]={type:j,data:{id:d?w.IMAGE_ENTITY:null,aspect_ratio:1,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},c?{description:{content:c}}:null,{title:{content:st(l,"string_value","title")}})},i)}}},Ut=function(e){var t,a,n,r,i,o=e.cardId,s=e.cardType,l=e.data,d=ct(l,"image_value","summary_photo_image_original"),c=st(l,"string_value","description");return{state:L,layout:(t={},t[L]={size:d?"large":"small"},t),card:{card_name:s,card_url:st(l,"string_value","card_url"),on_visibility:{scribe:"show"},id:o,components:(a={},a[L]=[w.MEDIA,w.DETAILS],a),destinations:(n={},n[w.DESTINATION]={type:G.BROWSER,data:{url_data:{url:st(l,"string_value","card_url"),vanity:st(l,"string_value",["vanity_url","card_url"])},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:Object.assign({},d?(r={},r[w.IMAGE_ENTITY]=ut(d),r):null),components_data:(i={},i[w.MEDIA]={type:j,data:{id:d?w.IMAGE_ENTITY:null,aspect_ratio:d?1.91:1,destination:w.DESTINATION}},i[w.DETAILS]={type:U,data:Object.assign({destination:w.DESTINATION},c?{description:{content:c}}:null,{title:{content:st(l,"string_value","title")}})},i)}}},Vt=function(e){var t,a,n,r,i,o,s,l,d=e.cardId,c=e.cardType,_=e.data,u=At(_),p=u.app_store_data,m=u.components,I=u.component_objects,g=u.destination_objects,T=u.media_entities,E=function(e,t){return Object.keys(e).reduce((function(a,n){var r=e[n];if("app_store_with_docked_media"===r.type||"app_store"===r.type){var i=yt(t[r.data.app_id]);a[n]={type:"browser",data:{url_data:{url:i?i.url:"https://twitter.com"},scribe:"unified_card_app_store_open_link",promoted_log:"unified_card_component_app_store_click"}}}else a[n]=Object.assign({},r,{data:Object.assign({},r.data,{scribe:"open_link",promoted_log:"unified_card_component_url_click"})});return a}),{})}(g,p),v=m.find((function(e){return I[e]&&"details"===I[e].type})),y=v&&"details"===I[v].type?I[v]:null,A=m.find((function(e){return I[e]&&"app_store_details"===I[e].type})),b=A&&"app_store_details"===I[A].type?I[A]:null,h=function(e,t){var a,n,r=e?e.data.destination:void 0;if(e)if("details"===e.type)a=Object.assign({},e.data.title);else if("app_store_details"===e.type){var i=e.data.app_id,o=yt(t[i])||{};a=o.title,n=o.category?o.category.content:void 0}return{type:"details",data:{title:a,footer:n,destination:r}}}(y||b||void 0,p),f=v||A,S=m.find((function(e){return I[e]&&"button_group"===I[e].type})),D=S&&"button_group"===I[S].type?{type:V,data:{buttons:I[S].data.buttons.map((function(e,t){return{index:t+1,icon:e.icon_type,destination:e.destination,cta:"cta"===e.type?O.getCtaString(e.action):e.text.content,is_rtl:"custom"===e.type?e.text.is_rtl:void 0}}))}}:null,N=m.find((function(e){return I[e]&&"swipeable_media"===I[e].type})),C=N&&"swipeable_media"===I[N].type?{type:W,data:{media_list:I[N].data.media_list}}:null,M=m.find((function(e){return I[e]&&"media"===I[e].type})),R=M&&"media"===I[M].type?I[M]:null,P=Object.keys(T).reduce((function(e,t){var a=T[t];return e[t]=Object.assign({},a,{type:"video"===a.type?"uc_video":a.type}),e}),{}),k=R?P[R.data.id]:null,Y=k?k.original_info.width/k.original_info.height:null,G=k&&"uc_video"===k.type?((t={})[w.IMAGE_ENTITY_STATIC]={media_url_https:k.media_url_https,type:"photo",original_info:k.original_info},t):null;return{state:L,layout:(a={},a[L]={size:"large"},a[x]={size:"large"},a),card:{card_name:c,card_url:st(_,"string_value","card_url"),on_visibility:{scribe:"show"},id:d,components:(n={},n[L]=m,n[x]=G?[].concat(Ce()(m.filter((function(e){return e!==M}))),[w.MEDIA_STATIC]):m,n),destinations:E,media_entities:Object.assign({},P,{},G),components_data:Object.assign({},h&&f?(r={},r[f]=h,r):null,{},D&&S?(i={},i[S]=D,i):null,{},C&&N?(o={},o[N]=C,o):null,{},R&&M?(s={},s[M]={type:j,data:Object.assign({},R.data)},s):null,{},G&&R?(l={},l[w.MEDIA_STATIC]={type:j,data:Object.assign({destination:R.data.destination},Y?{aspect_ratio:Y}:null,{id:w.IMAGE_ENTITY_STATIC,overlay:{type:B}})},l):null)}}},Wt=function(e){var t,a,n,r,i,o,s,l=e.cardId,d=e.cardType,c=e.data,_=e.cardContext,u=e.users,p=ct(c,"image_value","player_image_original"),m=st(c,"string_value","player_stream_url"),I=parseInt(st(c,"string_value","player_width"),10)/parseInt(st(c,"string_value","player_height"),10),g=st(c,"string_value","content_duration_seconds"),T=function(e){return[1,2,3,4].map((function(t){var a=st(c,"string_value","cta"+t),n=st(c,"string_value","cta"+t+"_wm_id");return a&&n?{icon:"dm",index:t,cta:a,wm_id:n,destination:e}:null})).filter(Boolean)},E=T(w.DESTINATION),v=T(w.DESTINATION_STATIC),y=dt(c,"user_value","recipient"),A=y&&u[y.id_str],b=y.id_str!==_.tweetUserId&&A;return{state:L,layout:(t={},t[L]={size:"large"},t[x]={size:"large"},t),card:{card_name:d,card_url:st(c,"string_value","card_url"),on_visibility:{scribe:"show"},id:l,components:(a={},a[L]=[w.MEDIA].concat(Ce()(b?[w.DETAILS]:[]),[w.BUTTON_GROUP]),a[x]=[w.MEDIA_STATIC].concat(Ce()(b?[w.DETAILS]:[]),[w.BUTTON_GROUP_STATIC]),a),destinations:(n={},n[w.DESTINATION]={type:G.ACTION,data:{action_data:{persist:!1,type:"dm",recipient:y.id_str},auth_required:!0,scribe:"click",promoted_log:"dm_button_click"}},n[w.DESTINATION_STATIC]={type:G.BROWSER,data:{url_data:{url:_.tweetPermalink||"https://twitter.com"},scribe:"open_link",promoted_log:"card_url_click"}},n),media_entities:(r={},r[w.IMAGE_ENTITY]=ut(p||{}),r[w.VIDEO_ENTITY]=Object.assign({type:"video",aspect_ratio:I,content_id:st(c,"string_value","player_content_id")||pt(m)},g?{duration_ms:1e3*parseInt(g,10)}:null,{vmap_url:m,poster_image:p,publisher_id:st(c,"string_value","player_owner_id")||_.tweetUserId,variants:[{src:st(c,"string_value","player_hls_url"),type:"application/x-mpegURL"}]}),r),components_data:Object.assign((i={},i[w.MEDIA]={type:j,data:{id:w.VIDEO_ENTITY}},i[w.MEDIA_STATIC]={type:j,data:{id:w.IMAGE_ENTITY,destination:w.DESTINATION_STATIC}},i),b?(o={},o[w.DETAILS]={type:U,data:{attribution:A}},o):null,(s={},s[w.BUTTON_GROUP]={type:V,data:{buttons:E}},s[w.BUTTON_GROUP_STATIC]={type:V,data:{buttons:v}},s))}}},zt=function(e){return _t(e,(function(e){return e("player_width").and("player_height").and("amplify_url_vmap").and("amplify_content_id")}))},Ft=function(e){return _t(e,(function(e){return e("card_url").and("title")}))},Ht=function(e){return _t(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},qt=function(e){return _t(e,(function(e){return e("card_url").and("title").and("partner").and("source")}))},Kt=function(e){return _t(e,(function(e){return e("card_url").and("broadcast_id").and("broadcast_title")}))},Jt=function(e){return _t(e,(function(e){return e("card_url").and("title")}))},Xt=function(e){return _t(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("image_original")}))},Zt=function(e){return _t(e,(function(e){return e("card_url").and("event_id").and("event_title")}))},Qt=function(e,t){return _t(e,(function(e){return e("recipient").and("cta")}))&&t.tweetUserId===dt(e,"user_value","recipient").id_str},$t=function(e){return _t(e,(function(e){return e("card_url").and((function(e){return e("photo_image").or("cover_format_media_url")})).and("id").and((function(e){return e("title").or("author").or("subcategory_string")}))}))},ea=function(e){return _t(e,(function(e){return e("card_url").and("broadcast_width").and("broadcast_height").and("id").and((function(e){return e("broadcaster_twitter_id").or("title")}))}))},ta=function(e){return Tt(e)?_t(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url").and("player_stream_content_type")})):_t(e,(function(e){return e("card_url").and("player_url").and("player_height").and("player_width").and("title")}))},aa=function(e){return _t(e,(function(e){return e("choice1_label").and("choice2_label").and("end_datetime_utc").and("counts_are_final").and("api").and("card_url")}))},na=function(e){return _t(e,(function(e){return e("card_url").and("title").and("promo_image_original").and("cta_key")}))},ra=function(e){return _t(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("promo_image").and("cta_one").and("cta_one_tweet")}))},ia=function(e){return _t(e,(function(e){return e("card_url").and("thank_you_text").and("card_id").and("cta_one").and("cta_one_tweet").and("player_width").and("player_height").and("player_stream_url")}))},oa=function(e){return _t(e,(function(e){return e("card_url").and("title").and("player_width").and("player_height").and("player_image_original").and("player_stream_url")}))},sa=function(e){return _t(e,(function(e){return e("card_url").and("title").and("promo_image_original")}))},la=function(e){return _t(e,(function(e){return e("card_url").and("title")}))},da=function(e){return _t(e,(function(e){return e("card_url").and("title")}))},ca=function(e){var t=At(e);return!!(t&&t.components&&t.component_objects&&t.components.length&&t.components.every((function(e){return t.component_objects[e]&&t.component_objects[e].type in vt})))},_a=function(e){return _t(e,(function(e){return e("recipient").and("cta1").and("cta1_wm_id").and("player_width").and("player_height").and("player_stream_url")}))},ua=function(e,t,a){var n,r=(n={},n[M.AMPLIFY]=zt,n[M.APP]=Ft,n[M.APPPLAYER]=Ht,n[M.AUDIO]=qt,n[M.BROADCAST]=Kt,n[M.DIRECT_STORE_LINK_APP]=Jt,n[M.IMAGE_DIRECT_MESSAGE]=Xt,n[M.LIVE_EVENT]=Zt,n[M.MESSAGE_ME]=Qt,n[M.MOMENT]=$t,n[M.PERISCOPE_BROADCAST]=ea,n[M.PLAYER]=ta,n[M.POLL_2_CHOICE_TEXT]=aa,n[M.POLL_3_CHOICE_TEXT]=aa,n[M.POLL_4_CHOICE_TEXT]=aa,n[M.POLL_2_CHOICE_IMAGE]=aa,n[M.POLL_3_CHOICE_IMAGE]=aa,n[M.POLL_4_CHOICE_IMAGE]=aa,n[M.POLL_2_CHOICE_VIDEO]=aa,n[M.POLL_3_CHOICE_VIDEO]=aa,n[M.POLL_4_CHOICE_VIDEO]=aa,n[M.PROMO_IMAGE_APP]=na,n[M.PROMO_IMAGE_CONVO]=ra,n[M.PROMO_VIDEO_CONVO]=ia,n[M.PROMO_VIDEO_WEBSITE]=oa,n[M.PROMO_WEBSITE]=sa,n[M.SUMMARY]=la,n[M.SUMMARY_LARGE_IMAGE]=da,n[M.UNIFIED_CARD]=ca,n[M.VIDEO_DIRECT_MESSAGE]=_a,n)[e];return!!r&&r(t,a)},pa=((nt={})[M.AMPLIFY]=bt,nt[M.APP]=ht,nt[M.APPPLAYER]=ft,nt[M.AUDIO]=Ot,nt[M.BROADCAST]=St,nt[M.DIRECT_STORE_LINK_APP]=Dt,nt[M.IMAGE_DIRECT_MESSAGE]=Nt,nt[M.LIVE_EVENT]=Ct,nt[M.MESSAGE_ME]=Mt,nt[M.MOMENT]=wt,nt[M.PERISCOPE_BROADCAST]=Lt,nt[M.PLAYER]=Rt,nt[M.POLL_2_CHOICE_TEXT]=xt,nt[M.POLL_3_CHOICE_TEXT]=xt,nt[M.POLL_4_CHOICE_TEXT]=xt,nt[M.POLL_2_CHOICE_IMAGE]=xt,nt[M.POLL_3_CHOICE_IMAGE]=xt,nt[M.POLL_4_CHOICE_IMAGE]=xt,nt[M.POLL_2_CHOICE_VIDEO]=xt,nt[M.POLL_3_CHOICE_VIDEO]=xt,nt[M.POLL_4_CHOICE_VIDEO]=xt,nt[M.PROMO_IMAGE_APP]=Pt,nt[M.PROMO_IMAGE_CONVO]=kt,nt[M.PROMO_VIDEO_CONVO]=Yt,nt[M.PROMO_VIDEO_WEBSITE]=Bt,nt[M.PROMO_WEBSITE]=Gt,nt[M.SUMMARY]=jt,nt[M.SUMMARY_LARGE_IMAGE]=Ut,nt[M.UNIFIED_CARD]=Vt,nt[M.VIDEO_DIRECT_MESSAGE]=Wt,nt),ma=function(e,t){var a=e.binding_values,n=e.name,r=e.url,i=e.users,o=void 0===i?{}:i,s=pa[n];return ua(n,a,t)&&s?s({cardId:r,cardType:n,data:a,cardContext:t,users:o}):null},Ia=function(e){function t(t){var a;a=e.call(this,t)||this,b()(E()(a),"_updateCardState",(function(e){a.setState({state:e})})),b()(E()(a),"_scribeCardAction",(function(e){var t=e.action,n=e.componentType,r=e.ctaIndex,i=e.isAuthRequired,o=a.state.card,s=a.props.onScribeEvent;o&&s&&s({action:t,componentType:n,cardName:o.card_name,cardUrl:o.card_url,ctaIndex:r,isMessageMe:o.card_name===M.MESSAGE_ME,isAuthRequired:i})})),b()(E()(a),"_requestCardUpdate",(function(){var e=a.props.requestCardUpdate,t=a.state.card;e&&t&&e({url:t.id,name:t.card_name})}));var n=a._convertCard(t);return n&&(a.state=n),a}y()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.state.card;e&&this._scribeCardAction({action:e.on_visibility.scribe,componentType:"card"})},a.componentWillReceiveProps=function(e){this.setState(this._convertCard(e))},a.render=function(){var e=this.state,a=e.card,n=e.state,r=this.props,i=r.cardContext,o=r.isDataSaverEnabled,s=r.isPromoted,l=r.onPollVote,d=r.onPromotedLogEvent,c=r.onScribeEvent,_=r.requestCardUpdate;if(!a)return null;var u=this._getCurrentLayout(),p=this._getDetailData(),I=this._getMediaData(),T=this._getPollData(),E=this._getButtonsData(),v=this._getSwipeableMediaData(),y=a.fetch_updates,A=this.props.withInteractiveStyling&&!(!p||!p.destination),b=Object.assign({locationKey:i.locationKey,withInteractiveStyling:A},p?{details:p}:null,{},I?{media:I}:null),h=_&&y&&y[n],f=I&&I.mediaEntity&&"photo"===I.mediaEntity.type,O="small"===u.size||o&&p&&!E&&f&&!s;return m.createElement(t.Context.Provider,{value:{card:a,isDataSaverEnabled:o,isPromoted:s,onPollVote:l,onPromotedLogEvent:d,onScribeEvent:c,scribeCardAction:this._scribeCardAction,updateCardState:this._updateCardState}},h?m.createElement(D,{requestCardUpdate:this._requestCardUpdate}):null,O?m.createElement(it,g()({},b,{reverse:u.reverse})):m.createElement(tt,g()({},b,E?{buttons:E}:null,v?{swipeableMedia:v}:null,T?{poll:T}:null,{chromeless:u.chromeless,renderVideoPlayer:this.props.renderVideoPlayer})))},a._getCurrentLayout=function(){var e=this.state,t=e.layout,a=e.state;return t[this.props.isDataSaverEnabled?P:a]||t[L]},a._getButtonsData=function(){var e=this._getComponent("button_group");return e?e.data.buttons:null},a._getSwipeableMediaData=function(){var e=this.state.card,t=this._getComponent("swipeable_media"),a=t&&t.data;return a&&a.media_list?a.media_list.map((function(t){return Object.assign({},t,{media_entity:t&&t.id&&e?e.media_entities[t.id]:void 0})})):null},a._getDetailData=function(){var e=this._getComponent("details"),t=e&&e.data;if(!t)return null;if(t.destination){var a=this._getVanityText(t.destination);t.vanity=a||void 0}return t},a._getMediaData=function(){var e=this.state.card,t=this._getComponent("media"),a=t&&t.data,n=a&&a.id&&e?e.media_entities[a.id]:void 0,r=a&&a.overlay,i=a&&a.aspect_ratio;return a?Object.assign({},a.destination?{destination:a.destination}:null,{aspect_ratio:i,mediaEntity:n,overlay:r}):null},a._getPollData=function(){var e=this._getComponent("poll");return e?e.data:null},a._getComponent=function(e){var t=this.state,a=t.card,n=t.state,r=this.props.isDataSaverEnabled;if(!a)throw new Error("No card data available");var i=r?P:n,o=(a.components[i]||a.components[L]).map((function(e){return a.components_data[e]})).find((function(t){return t.type===e}));return o||void 0},a._getVanityText=function(e){var t=this.state.card;if(t){var a=t.destinations[e];if(a)switch(a.type){case G.BROWSER:case G.BROWSER_WITH_DOCKED_MEDIA:case G.BROWSER_WITH_MEDIA:return a.data.url_data.vanity;case G.ACTION:return a.data.action_data.vanity;default:return}}},a._convertCard=function(e){var t=e.card,a=e.cardState,n=e.cardContext,r=ma(t,n),i=a||!!this.state&&this.state.state||r&&r.state||void 0;return Object.assign({},r,{state:i})},t}(m.Component);b()(Ia,"defaultProps",{isDataSaverEnabled:!1,isPromoted:!1,withInteractiveStyling:!0}),b()(Ia,"Context",m.createContext(Object.freeze({}))),Ia.propTypes={};var ga=Ia,Ta=a("SMZj"),Ea=a("Tb0w"),va=a("6rlp"),ya=a("vjRr"),Aa=a("oEGd"),ba=a("0KEI"),ha=a("hqKg"),fa=a("zh9S"),Oa=a("P1r1"),Sa=a("oEOe"),Da=a("/kEJ"),Na=Sa.a("rweb/cards",""),Ca=function(e,t){var a=e.pre_live_slate_url,n=e.scheduled_start_ms,r=e.state,i=e.status,o=e.twitter_user_id,s=e.user_display_name,l=t.hw_card_binding_values;return{hw_card_binding_values:Object.assign({},l,{broadcast_state:{type:"STRING",string_value:r},broadcast_title:{type:"STRING",string_value:i},site:{type:"USER",user_value:{id_str:o}},broadcaster_display_name:{type:"STRING",string_value:s},broadcast_scheduled_start_time:{type:"STRING",string_value:n}},a?{broadcast_pre_live_slate:{type:"IMAGE",image_value:{url:a}}}:null)}},Ma=Object(ha.createSelector)((function(e,t){return t.cardState||Ea.b(e,t.card.url)}),Oa.i,(function(e,t){return t.card.binding_values.broadcast_id&&t.card.binding_values.broadcast_id.string_value}),(function(e,t,a){return{cardState:e,isDataSaverEnabled:t,broadcastId:a}})),wa={createLocalApiErrorHandler:Object(ba.b)("CARD_CONTAINER"),scribeAction:fa.c,requestCardUpdate:ya.a.fetchOne,log:va.a,updateBroadcastCard:function(e,t){return function(a,n,r){var i=r.api;return Sa.b(a,{params:{ids:[t]},request:i.Broadcasts.fetchBroadcast})({actionTypes:Na,context:"FETCH_BROADCAST",meta:{}},(function(t){if(t){var a,r=t.result.broadcasts[0],i=t.entities.broadcasts[r],o=ya.a.select(n(),e);if(!o)return[];var s=Ca(i,o);return[Object(Da.b)({cards:(a={},a[e]=Object.assign({},s),a)})]}}))}},vote:ya.a.vote},La=Object(Aa.g)(Ma,wa),Ra=a("7JQg"),xa=a("TrHT"),Pa=function(e,t,a){switch(e){case"card_url_click":return{event:"card_url_click"};case"install_app":return{event:"install_app"};case"dm_button_click":return{event:"card_url_click",engagement_metadata:JSON.stringify({direct_message_card_details:{button_index:a}})};case"convo_button_click":return{event:"card_url_click",engagement_metadata:JSON.stringify({conversational_card_details:{button_index:a}})};case"poll_card_vote":return{event:"poll_card_vote"};case"unified_card_component_url_click":return Object.assign({event:"unified_card",uc_event:JSON.stringify({event:"click",component:t,destination:"browser"})},"button_group"===t?{engagement_metadata:JSON.stringify({uc_button_group_details:{button_index:a}})}:null);case"unified_card_component_app_store_click":return{event:"unified_card",uc_event:JSON.stringify({event:"click",component:"details"===t?"app_store_details":t,destination:"app_store"}),engagement_metadata:JSON.stringify({uc_event_metadata:Object.assign({app_event:"install_app"},"button_group"===t?{button_index:a}:null)})};default:return null}},ka=a("3XMw"),Ya=a.n(ka),Ba=a("Zb1g"),Ga=a("nT9l"),ja=a("zJgq"),Ua=!1,Va=Ya.a.fb79efe3,Wa=Ya.a.daeffc96,za=Ya.a.a0fdf14a,Fa=Ya.a.aff03b01,Ha=Ya.a.g66535d9,qa=Ya.a.bc305387,Ka=Ya.a.f71cfb85,Ja=Ya.a.b1ac5af7,Xa=Ya.a.e2ad5ae4,Za=Ya.a.j7f394d9,Qa=Ya.a.fba9ea70,$a=Ya.a.b79ffef4,en=Ya.a.i7c776d5,tn=Ya.a.fc209bb7,an=ja.a.isIOS()?"ios":ja.a.isAndroid()?"android":"other",nn={},rn=function(e){if(nn[e])return nn[e];var t=h.a.createLayoutCache();return nn[e]=t,t},on=function(e){return function(t,a,n){var r=0===t.indexOf("card://"),i=a||!r?""+(a||"")+(a&&!r?" ":"")+(r?"":t):null;e.push(Object.assign({pathname:"/compose/tweet"},i?{query:{text:i}}:null,{state:{convoCardData:{cardId:t,cardUrl:r?t:null,nextState:n}}}))}};function sn(e){var t,a;Ua||(Ua=!0,S.init((t=e,a=t.history,[{composeDirectMessage:function(e){var t=e.recipient,n=e.welcomeMessageId,r=e.messageText;a.push({pathname:"/messages/compose",query:Object.assign({recipient_id:t},n?{welcome_message_id:n}:null,{},r?{text:r}:null)})},composeTweet:on(a),getFetchIntervalSeconds:function(){return 30},getCtaString:function(e){switch(e){case"play":return Va;case"shop":return Wa;case"book":return za;case"connect":return Fa;case"order":return Ha;case"open":return qa;case"install":default:return Ka}},getMessageMeString:function(e){switch(e){case"message_me_card_cta_1":return Ja;case"message_me_card_cta_3":return Za;case"message_me_card_cta_4":return Qa;case"message_me_card_cta_2":default:return Xa}},getMobileOS:function(){return an},renderImage:function(e,t,a,n,r){var i=e.uri,o=e.width,s=e.height,l=n?rn(n):void 0,d=function(e){var a=e.useMinimumData;return m.createElement(h.a,{accessibilityLabel:"",aspectMode:f.a.exact(t||1),cropCandidates:r,image:{url:i,width:o||1e3,height:s||1e3},layoutCache:l,previewMode:a})};return"preview"===a?m.createElement(Ga.a,{acceptLabel:en,renderContent:d,resourceId:i}):d({useMinimumData:!1})},renderTwemojiText:function(e){return m.createElement(ve.b,null,e)},renderNumVotesLabel:function(e){return Ba.d({count:e,formattedCount:Ba.c(e)})},renderFinalResultsLabel:function(){return Ba.a},renderTimeLeftLabel:function(e){return Ba.b(e)},renderStartingTimeLabel:function(e){var t=new Date(parseInt(e,10));return $a({date:tn(t)})}}])[0]))}var ln=a("ZxDS"),dn=a("v6aA"),cn=a("TzCa"),_n=a("cFuS"),un=a("Rp9C"),pn=a("Jkc4"),mn=a("XOJV"),In=function(e,t){return t.media_tweet_id},gn={createLocalApiErrorHandler:Object(ba.b)("EVENT_CARD_CONTEXT"),fetchTweetIfNeeded:mn.a.fetchOneIfNeeded},Tn=Object(ha.createSelector)((function(e,t){var a=In(0,t);return a?mn.a.selectFetchStatus(e,a):void 0}),(function(e,t){var a=In(0,t);return a?mn.a.selectHydrated(e,a):void 0}),(function(e,t){return{videoTweetFetchStatus:e,videoTweet:t}})),En=Object(Aa.g)(Tn,gn),vn=a("v//M"),yn=a("W5XZ"),An=a("fUT7"),bn=a("Modb"),hn=a("lklz"),fn=Ya.a.f0a19192,On=En(function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p()(d()(t),"_renderInlinePlayer",(function(){var e=t.props,a=e.aspect_ratio,n=e.event_id,r=e.media_tweet_id,o=e.poster_image,s=e.videoTweet,l=s&&s.extended_entities&&s.extended_entities.media&&s.extended_entities.media[0],d=hn.b.forTweet(r);return l?m.createElement(bn.a,i()({},Object(xa.a)(d,l,n),{aspectRatio:a,poster:o})):null})),p()(d()(t),"_handleFetchTweet",(function(){var e=t.props,a=e.createLocalApiErrorHandler,n=e.fetchTweetIfNeeded,r=e.media_tweet_id;An.a.preload(),n(r).catch(a(yn.a))})),t}_()(t,e);var a=t.prototype;return a.componentDidMount=function(){this._handleFetchTweet()},a.render=function(){var e=this.props,t=e.aspect_ratio,a=e.media_tweet_id,n=e.videoTweetFetchStatus;return a?m.createElement(N.a,{ratio:t},m.createElement(Q.a,{style:X.a.absoluteFill},m.createElement(vn.a,{accessibilityLabel:fn,fetchStatus:n,onRequestRetry:this._handleFetchTweet,render:this._renderInlinePlayer}))):null},t}(m.Component)),Sn=a("TnY3");a.d(t,"HWCard",(function(){return Mn}));var Dn=Object(ln.c)(window),Nn=Ya.a.j67b44cd,Cn={objectFitVideo:"cover"},Mn=function(e){function t(t,a){var n;return n=e.call(this,t,a)||this,p()(d()(n),"_getCardState",(function(){var e=n.props,t=e.cardState,a=e.card;return"player"!==a.name&&"audio"!==a.name||!Dn?t:"static"})),p()(d()(n),"_updateBroadcastCard",(function(e){var t=e.url,a=n.props,r=a.broadcastId,i=a.updateBroadcastCard;return r?i(t,r):void 0})),p()(d()(n),"_handleRequestCardUpdate",(function(){var e=n.context.loggedInUserId,t=n.props,a=t.card,r=t.requestCardUpdate;return a.name===Ta.c.TwitterBroadcast?n._updateBroadcastCard:e?r:void 0})),p()(d()(n),"_handlePromotedLogEvent",(function(e){var t=e.action,a=e.componentType,r=e.buttonIndex,i=e.isAuthRequired,o=n.props,s=o.createLocalApiErrorHandler,l=o.cardContext,d=o.log,c=o.promotedContent,_=n.context.loggedInUserId;if((!i||_)&&c&&l){var u=c.disclosure_type,p=c.impression_id;d({disclosureType:u,itemId:l.tweetId,itemType:_n.c.TWEET,params:Object.assign({impression_id:p},Pa(t,a,r))}).catch(s())}})),p()(d()(n),"_handleScribeEvent",(function(e){var t=e.action,a=e.componentType,r=e.cardName,i=e.cardUrl,o=e.ctaIndex,s=e.isMessageMe,l=e.isAuthRequired,d=n.props,c=d.scribeAction,_=d.scribeNamespace,u=d.cardContext,p=d.promotedContent,m=n.context.loggedInUserId,I="unified_card_app_store_open_link"===t?"open_link":t,g=p&&"earned"!==p.disclosure_type?p.impression_id:void 0;l&&!m||c(Object.assign({},_,{action:I}),{items:[un.a.getHWCardItem(Object.assign({componentType:a,cardName:r,cardUrl:i,ctaIndex:o},u&&u.tweetId?{tweetId:u.tweetId}:null,{},u&&u.tweetUserId?{tweetUserId:u.tweetUserI}:null,{},s?{viewingUserId:m}:null,{isUCAppInstall:"unified_card_app_store_open_link"===t,impressionId:g}))]})})),p()(d()(n),"_handlePollVote",(function(e){var t=e.choice,a=e.cardId,r=n.props,i=r.cardContext.tweetId;(0,r.vote)(a,{selectedIndex:t,tweetId:i})})),p()(d()(n),"_renderVideoPlayer",(function(e,t){var a=n.props,r=a.cardContext.tweetId,o=a.promotedContent,l=(o||{}).impression_id;if("live_broadcast"===e.type){var d=e.broadcast_id,c=e.aspect_ratio,_=e.content_id,u=e.poster_image,p=e.timecode;return m.createElement(bn.a,{accessibilityLabel:Nn,aspectRatio:c,customOverlay:cn.a,displayOptions:Cn,forceFullPreviewImage:"suboptimal"===t,poster:u,promotedContent:o,source:{contentId:_,videoId:hn.b.forBroadcast(d,r,l)},timecode:p,videoType:"video"})}if("tweet_video"===e.type)return m.createElement(On,e);if("uc_video"===e.type){e.type;var I=e.original_info,g=s()(e,["type","original_info"]),T=Object(xa.a)(hn.b.forTweet(r,l),Object.assign({},g,{original_info:Object.assign({},I),type:"video"})),E=(T.accessibilityLabel,T.backgroundColor,T.primaryBadge,T.secondaryBadge,s()(T,["accessibilityLabel","backgroundColor","primaryBadge","secondaryBadge"]));return m.createElement(bn.a,i()({forceFullPreviewImage:"suboptimal"===t},E,{accessibilityLabel:Nn,promotedContent:o}))}var v=e.aspect_ratio,y=e.content_id,A=e.duration_ms,b=e.poster_image,h=e.variants,f=e.vmap_url;return m.createElement(bn.a,{accessibilityLabel:Nn,aspectRatio:v,durationMs:A,forceFullPreviewImage:"suboptimal"===t,poster:b,promotedContent:o,source:Object.assign({contentId:y},h?{variants:h.map((function(e){return{content_type:e.type,url:e.src}}))}:null,{videoId:{type:"tweet",id:r},vmapUrl:f}),videoType:"vine"===e.type?"vine":"video"})})),sn({history:t.history}),n}return _()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.isDataSaverEnabled,n=t.promotedContent;return m.createElement(pn.a,null,(function(t){return m.createElement(ga,i()({},e.props,{cardState:e._getCardState(),isDataSaverEnabled:a,isPromoted:!!n,onPollVote:t(e._handlePollVote),onPromotedLogEvent:e._handlePromotedLogEvent,onScribeEvent:e._handleScribeEvent,renderVideoPlayer:e._renderVideoPlayer,requestCardUpdate:e._handleRequestCardUpdate()}))}))},t}(m.Component);p()(Mn,"contextType",dn.a);t.default=Object(Ra.d)({element:"platform_card"})(La(Object(Sn.a)(Mn)))},bPFD:function(e,t,a){"use strict";var n=a("97Jx"),r=a.n(n),i=(a("PN9k"),a("1Pcy")),o=a.n(i),s=a("W/Kd"),l=a.n(s),d=a("KEM+"),c=a.n(d),_=a("ERkP"),u=a("6/RC"),p=a("rHpw"),m=(a("aWzz"),a("7DT3")),I=a.n(m),g=a("3xO4"),T=a.n(g),E=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,c()(o()(t),"_handleMessage",(function(e){var a=t.props,n=a.onMessage,r=a.forwardedRef,i=a.reportError;if(n&&("string"!=typeof e.data||0!==e.data.indexOf("setImmediate$"))){if(e.origin!==window.location.protocol+"//"+window.location.host)return i?i("Invalid cross-origin postMessage from "+e.origin):null;var o;if(r&&r.current&&r.current.contentWindow&&r.current.contentWindow===e.source)if(e.stopImmediatePropagation(),"string"==typeof e.data&&"undefined"!==e.data){try{o=JSON.parse(e.data)}catch(s){return void(i&&i("Invalid postMessage data from "+e.origin+": "+e.data))}n(o)}}})),t}l()(t,e);var a=t.prototype;return a.componentDidMount=function(){var e;this.props.onMessage&&(e=this._handleMessage,u.canUseDOM&&window.addEventListener("message",e,!1))},a.componentWillUnmount=function(){var e;this.props.onMessage&&(e=this._handleMessage,u.canUseDOM&&window.removeEventListener("message",e,!1))},a.render=function(){var e=this.props,t=e.allowForms,a=e.dangerouslyDisableSandbox,n=e.src,r=e.style,i=e.title,o=I()("iframe",Object.assign({allow:"autoplay",allowFullScreen:!0,ref:this.props.forwardedRef,src:n,style:v.iframe,title:i},a?null:{sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"+(t?" allow-forms":"")}));return _.createElement(T.a,{style:[v.root,r]},o)},t}(_.Component);E.propTypes={};var v=p.a.create((function(e){return{root:{overflow:"auto",WebkitOverflowScrolling:"touch"},iframe:{borderWidth:0,flexGrow:1}}}));t.a=_.forwardRef((function(e,t){return _.createElement(E,r()({forwardedRef:t},e))}))}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.HWCard.38ebd6f4.js.map